<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ü–æ–ª–º–∞—Ç–µ—Ä–∏ Playlist</title>
<style>
  body {
    font-family: sans-serif;
    margin: 0;
    padding: 20px;
    background: #0b0b1a; /* —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π —Ñ–æ–Ω */
    color: #fff;
  }

  h1 {
    text-align: center;
    margin-bottom: 20px;
  }

  .song-list {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  .song-btn {
    background: #007bff; /* üîµ —Å–∏–Ω–∏–π */
    border: none;
    color: white;
    font-size: 18px;
    font-weight: 600;
    padding: 14px 24px;
    border-radius: 50px;
    cursor: pointer;
    transition: 0.2s;
    width: 90%;
    max-width: 400px;
    text-align: center;
  }
  .song-btn:hover {
    background: #005fcc;
    transform: scale(1.05);
  }

  /* üîò –§–æ—Ç–æ –ø–æ–¥ –ø–ª–µ–π–ª–∏—Å—Ç–æ–º */
  .bottom-photo {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 60px;
    margin-bottom: 100px;
  }

  .bottom-photo img {
    width: 250px;
    height: 250px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: 0 0 25px rgba(0,0,0,0.5);
    transition: transform 0.3s ease;
  }

  .bottom-photo img:hover {
    transform: scale(1.05);
  }

  /* –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä */
  .mini-player {
    position: fixed;
    bottom: 12px;
    left: 12px;
    right: 12px;
    display: grid;
    grid-template-columns: 56px 1fr auto;
    gap: 12px;
    align-items: center;
    padding: 10px 12px;
    background: rgba(15, 15, 40, 0.85);
    color: #fff;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    opacity: 0;
    pointer-events: none;
    transform: translateY(20px);
    transition: all 0.4s ease;
    z-index: 9999;
  }
  .mini-player.visible {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .btrs{
    position: absolute;
    top: 30px;   
    right: 40px; 
    font-size: 28px;
  }

  .btrs a{
    text-decoration: none;
    color: white;
  }

  .mp-cover {
    width: 56px; height: 56px; border-radius: 10px; object-fit: cover;
  }
  .mp-center { min-width: 0; }
  .mp-title { font-weight: 700; font-size: 15px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .mp-artist { font-size: 12px; color: #b5b5b5; margin-top: 2px; }

  .mp-seek {
    -webkit-appearance: none;
     appearance: none;          
    width: 100%; height: 4px; background: #3a3a3a; border-radius: 999px; margin: 8px 0 4px;
  }
  .mp-seek::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px; height: 14px; border-radius: 50%;
    background: #007bff; /* üîµ –ø–æ–ª–∑—É–Ω–æ–∫ */
  }

  .mp-time { display: flex; justify-content: space-between; font-size: 11px; color: #b5b5b5; }
  .mp-controls { display: flex; gap: 8px; align-items: center; }
  .mp-btn {
    width: 40px; height: 40px; border-radius: 50%;
    background: #1e1e2f; color: #fff; border: none; cursor: pointer;
    font-size: 16px; display: grid; place-items: center;
    transition: transform .1s ease, background .2s ease;
  }
  .mp-btn:active { transform: scale(.95); }
  .mp-play.playing { background: #007bff; }

  @media (max-width: 480px) {
    .mini-player { grid-template-columns: 48px 1fr auto; padding: 8px 10px; }
    .mp-cover { width: 48px; height: 48px; }
    .mp-title { font-size: 14px; }
    .mp-artist { display: none; }
    .song-btn { font-size: 16px; }
  }
</style>
</head>
<body>
<a style="text-decoration: none; color: #ffffff; font-size: 30px;" href="music.html">–ù–ê–ó–ê–î</a>
<h1>üéß –ü–æ–ª–º–∞—Ç–µ—Ä–∏ Playlist</h1>

<div class="song-list">
  <button class="song-btn" data-src="./audio/–ü–æ–ª–º–∞—Ç–µ—Ä–∏ - —Ç–∏–ø–∏—á–Ω–∞—è —Ä–µ–ø–µ—Ä—Å–∫–∞—è –ø–µ—Å–Ω—è.mp3">–ü–æ–ª–º–∞—Ç–µ—Ä–∏ ‚Äî —Ç–∏–ø–∏—á–Ω–∞—è —Ä–µ–ø–µ—Ä—Å–∫–∞—è –ø–µ—Å–Ω—è</button>
  <button class="song-btn" data-src="./audio/–ü–û–õ–ú–ê–¢–ï–†–ò - –ü–∞–Ω–∫–∏ –Ω–µ —É–º–µ—é—Ç –ª—é–±–∏—Ç—å.mp3">–ü–û–õ–ú–ê–¢–ï–†–ò ‚Äî –ü–∞–Ω–∫–∏ –Ω–µ —É–º–µ—é—Ç –ª—é–±–∏—Ç—å</button>
  <button class="song-btn" data-src="./audio/–ü–û–õ–ú–ê–¢–ï–†–ò - –Ø—Ä—á–µ –∑–≤—ë–∑–¥.mp3">–ü–û–õ–ú–ê–¢–ï–†–ò ‚Äî –Ø—Ä—á–µ –∑–≤—ë–∑–¥</button>
  <button class="song-btn" data-src="./audio/–ü–æ–ª–º–∞—Ç–µ—Ä–∏ - –ë–æ–≤—å.mp3">–ü–æ–ª–º–∞—Ç–µ—Ä–∏ ‚Äî –ë–æ–≤—å</button>
  <button class="song-btn" data-src="./audio/–ü–æ–ª–º–∞—Ç–µ—Ä–∏ - –ö—Ö–º-–ö—Ö–º.mp3">–ü–æ–ª–º–∞—Ç–µ—Ä–∏ ‚Äî –ö—Ö–º-–ö—Ö–º</button>
  <button class="song-btn" data-src="./audio/–ü–æ–ª–º–∞—Ç–µ—Ä–∏ - –ú–µ–ª–∞—Ç–æ–Ω–∏–Ω.mp3">–ü–æ–ª–º–∞—Ç–µ—Ä–∏ ‚Äî –ú–µ–ª–∞—Ç–æ–Ω–∏–Ω</button>
  <button class="song-btn" data-src="./audio/–ü–û–õ–ú–ê–¢–ï–†–ò - –ú—ã –∏–¥—ë–º —Å —Ç–æ–±–æ–π –≥—É–ª—è—Ç—å.mp3">–ü–û–õ–ú–ê–¢–ï–†–ò ‚Äî –ú—ã –∏–¥—ë–º —Å —Ç–æ–±–æ–π –≥—É–ª—è—Ç—å</button>
  <button class="song-btn" data-src="./audio/–ü–æ–ª–º–∞—Ç–µ—Ä–∏ - –ü—Å—ã –ü–æ–ø–∞–¥—É—Ç –í –†–∞–π.mp3">–ü–æ–ª–º–∞—Ç–µ—Ä–∏ ‚Äî –ü—Å—ã –ü–æ–ø–∞–¥—É—Ç –í –†–∞–π</button>
</div>

<!-- üîò –û–∫—Ä—É–≥–ª—ë–Ω–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è -->
<div class="bottom-photo">
  <img src="./photo/5cc2927fcf61cf10d3eb5efe35abde33.1000x1000x1.png" alt="–ü–æ–ª–º–∞—Ç–µ—Ä–∏">
  <!-- ‚Üë –ó–¥–µ—Å—å —É–∫–∞–∂–∏ –ø—É—Ç—å –∫ —Ñ–æ—Ç–æ -->
</div>

<div class="mini-player" id="player">
  <img class="mp-cover" src="./photo/mother.jpg" alt="cover">
  <div class="mp-center">
    <div class="mp-title">‚Äî</div>
    <div class="mp-artist">–ü–æ–ª–º–∞—Ç–µ—Ä–∏</div>
    <input type="range" class="mp-seek" min="0" max="100" value="0" step="0.1">
    <div class="mp-time"><span class="mp-current">0:00</span><span class="mp-duration">0:00</span></div>
  </div>
  <div class="mp-controls">
    <button class="mp-btn mp-play" aria-label="play/pause">‚ñ∂</button>
    <button class="mp-btn mp-mute" aria-label="mute">üîä</button>
  </div>
  <audio id="mp-audio" preload="metadata"></audio>
</div>

<div class="btrs">
  <a href="cupsize.html">–°–õ–ï–î–£–Æ–©–ò–ô</a>
  <!-- ‚Üë –ó–¥–µ—Å—å —É–∫–∞–∂–∏ –ø—É—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é -->
</div>

<script>
  const songs = Array.from(document.querySelectorAll('.song-btn'));
  const player = document.getElementById('player');
  const audio = document.getElementById('mp-audio');
  const playBtn = document.querySelector('.mp-play');
  const muteBtn = document.querySelector('.mp-mute');
  const seek = document.querySelector('.mp-seek');
  const cur = document.querySelector('.mp-current');
  const dur = document.querySelector('.mp-duration');
  const title = document.querySelector('.mp-title');
  const artist = document.querySelector('.mp-artist');
  let currentIndex = 0;

  const fmt = s => {
    if (isNaN(s)) return '0:00';
    const m = Math.floor(s / 60);
    const ss = Math.floor(s % 60).toString().padStart(2,'0');
    return `${m}:${ss}`;
  };

  songs.forEach((btn, index) => {
    btn.addEventListener('click', () => {
      const src = btn.dataset.src;
      const t = btn.textContent;
      currentIndex = index;
      audio.src = src;
      title.textContent = t;
      player.classList.add('visible');
      audio.play();
      playBtn.textContent = '‚è∏';
      playBtn.classList.add('playing');
    });
  });

  playBtn.addEventListener('click', async () => {
    if (audio.paused) {
      await audio.play();
      playBtn.textContent = '‚è∏';
      playBtn.classList.add('playing');
    } else {
      audio.pause();
      playBtn.textContent = '‚ñ∂';
      playBtn.classList.remove('playing');
    }
  });

  muteBtn.addEventListener('click', () => {
    audio.muted = !audio.muted;
    muteBtn.textContent = audio.muted ? 'üîà' : 'üîä';
  });

  audio.addEventListener('timeupdate', () => {
    const p = (audio.currentTime / audio.duration) * 100 || 0;
    seek.value = p;
    cur.textContent = fmt(audio.currentTime);
  });

  seek.addEventListener('input', () => {
    if (!isNaN(audio.duration)) {
      audio.currentTime = (seek.value / 100) * audio.duration;
    }
  });

  audio.addEventListener('loadedmetadata', () => {
    dur.textContent = fmt(audio.duration);
  });

  audio.addEventListener('ended', () => {
    currentIndex++;
    if (currentIndex < songs.length) {
      songs[currentIndex].click();
    } else {
      // ‚úÖ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–µ—Å–Ω–∏
      window.location.href = "cupsize.html";
    }
  });
</script>
</body>
</html>
