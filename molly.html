<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Пошлая Молли — Плейлист</title>

<link rel="icon" type="image/png" href="./photo/images.jpg">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

<style>
  :root{
    --bg:#0b0b0f;
    --card:rgba(24,24,32,.72);
    --outline:rgba(255,255,255,.06);
    --txt:#f4f6ff;
    --muted:#a9afc7;
    --brand:#2bf08e;
    --brand-2:#00c2ff;
    --hover:rgba(255,255,255,.06);
  }
  *{box-sizing:border-box;}
  html,body{height:100%;}
  body{
    margin:0;
    color:var(--txt);
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:radial-gradient(1200px 1200px at 80% 10%,rgba(0,194,255,.20),transparent 50%),
               radial-gradient(900px 900px at 20% 80%,rgba(43,240,142,.18),transparent 50%),
               var(--bg) url("./photo/images.jpg") center/cover fixed no-repeat;
  }
  .glass{
    background:var(--card);
    border:1px solid var(--outline);
    border-radius:16px;
    backdrop-filter:blur(14px) saturate(120%);
    box-shadow:0 20px 50px rgba(0,0,0,.35);
  }
  .app{
    min-height:100vh;
    display:grid;
    grid-template-columns:280px 1fr 360px;
    grid-template-rows:1fr auto;
    gap:14px;
    padding:14px;
  }
  .sidebar{padding:14px;display:flex;flex-direction:column;gap:12px;}
  .brand{display:flex;align-items:center;gap:10px;font-weight:800;}
  .brand i{color:var(--brand);}
  .nav{display:flex;flex-direction:column;gap:6px;margin-top:8px;}
  .nav a{text-decoration:none;color:var(--txt);padding:10px 12px;border-radius:10px;display:flex;align-items:center;gap:12px;font-weight:600;}
  .nav a:hover{background:var(--hover);}
  .aside-title{font-size:12px;color:var(--muted);text-transform:uppercase;margin:10px 6px 4px;}
  .artist{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:10px;cursor:pointer;}
  .artist:hover{background:var(--hover);}
  .avatar{width:36px;height:36px;border-radius:8px;object-fit:cover;}
  .main{display:flex;flex-direction:column;overflow:hidden;}
  .header{padding:16px;display:flex;align-items:center;justify-content:space-between;}
  .controls-sm{display:flex;gap:8px;}
  .round{width:36px;height:36px;border-radius:999px;border:1px solid var(--outline);display:grid;place-items:center;background:rgba(0,0,0,.35);color:var(--txt);cursor:pointer;}
  .search{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:999px;border:1px solid var(--outline);background:rgba(0,0,0,.35);min-width:260px;}
  .search input{border:none;background:transparent;color:var(--txt);outline:none;width:100%;font-size:14px;}
  .scroll{overflow:auto;padding:4px 14px 140px;}
  .title{font-size:clamp(22px,3.2vw,40px);font-weight:900;letter-spacing:.3px;margin:6px 8px 14px;}
  .row{display:grid;grid-template-columns:34px 1fr 84px;align-items:center;gap:14px;padding:12px 12px;border-radius:12px;transition:background .15s ease,transform .08s ease;}
  .row:hover{background:var(--hover);}
  .idx{text-align:right;color:var(--muted);}
  .meta{display:flex;align-items:center;gap:12px;min-width:0;}
  .cover{width:56px;height:56px;border-radius:12px;object-fit:cover;box-shadow:0 8px 20px rgba(0,0,0,.35);}
  .t1{font-weight:800;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .t2{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .play{width:40px;height:40px;border-radius:12px;border:none;cursor:pointer;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#04130f;display:grid;place-items:center;font-size:16px;}
  .dur{color:var(--muted);}
  .right{padding:14px;display:flex;flex-direction:column;gap:14px;}
  .np-cover{width:100%;aspect-ratio:1/1;border-radius:16px;object-fit:cover;box-shadow:0 20px 40px rgba(0,0,0,.45);}
  .np-title{font-weight:900;font-size:18px;}
  .np-artist{color:var(--muted);margin-top:-6px;}
  .player{grid-column:1/-1;display:grid;grid-template-columns:1.1fr 2fr 1.1fr;align-items:center;gap:14px;padding:12px 16px;border-radius:16px;border:1px solid var(--outline);backdrop-filter:blur(10px) saturate(130%);background:rgba(10,12,16,.72);}
  .p-left{display:flex;align-items:center;gap:12px;min-width:0;}
  .p-cover{width:60px;height:60px;border-radius:12px;object-fit:cover;}
  .p-title{font-weight:800;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
  .p-artist{color:var(--muted);font-size:13px;}
  .p-center{display:flex;flex-direction:column;align-items:center;gap:10px;}
  .p-controls{display:flex;align-items:center;gap:14px;}
  .ctl{width:42px;height:42px;border-radius:12px;border:1px solid var(--outline);background:rgba(255,255,255,.06);color:var(--txt);display:grid;place-items:center;cursor:pointer;}
  .ctl.primary{width:58px;height:58px;font-size:18px;border:none;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#04130f;}
  .seek{width:92%;display:flex;align-items:center;gap:12px;font-size:12px;color:var(--muted);}
  input[type="range"]{-webkit-appearance:none;width:100%;height:6px;border-radius:999px;background:linear-gradient(90deg,var(--brand),var(--brand-2));outline:none;}
  input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#fff;border:4px solid #101622;}
  .p-right{display:flex;align-items:center;gap:10px;justify-content:flex-end;}
  .vol{width:160px;}
</style>
</head>
<body>

<div class="app">

  <aside class="glass sidebar">
    <div class="brand"><i class="fa-solid fa-bolt"></i><span>EXP</span></div>
    <nav class="nav">
      <a href="music.html"><i class="fa-solid fa-fire"></i> Главная</a>
      <a href="#"><i class="fa-solid fa-magnifying-glass"></i> Поиск</a>
      <a href="#"><i class="fa-solid fa-rectangle-list"></i> Медиатека</a>
    </nav>
    <div class="aside-title">Исполнители</div>
    <div class="artist"><img class="avatar" src="./photo/images.jpg"><div><div>CUPSIZE</div><div style="color:var(--muted);font-size:12px">Исполнитель</div></div></div>
    <div class="artist"><img class="avatar" src="./photo/images.jpg"><div><div>Пошлая Молли</div><div style="color:var(--muted);font-size:12px">Исполнитель</div></div></div>
    <div class="artist"><img class="avatar" src="./photo/images.jpg"><div><div>Кишлак</div><div style="color:var(--muted);font-size:12px">Исполнитель</div></div></div>
  </aside>

  <section class="glass main">
    <div class="header">
      <div class="controls-sm">
        <button class="round" onclick="history.back()"><i class="fa-solid fa-chevron-left"></i></button>
        <button class="round" onclick="history.forward()"><i class="fa-solid fa-chevron-right"></i></button>
      </div>
      <label class="search"><i class="fa-solid fa-magnifying-glass"></i><input id="search" placeholder="Поиск по плейлисту"></label>
    </div>

    <div class="scroll">
      <div class="title">Пошлая Молли — плейлист</div>
      <div style="display:grid;grid-template-columns:34px 1fr 84px;gap:14px;padding:6px 12px;color:var(--muted);font-size:12px;text-transform:uppercase;">
        <div>#</div><div>Название</div><div style="text-align:center;">Длительность</div>
      </div>

      <div id="list" style="display:flex;flex-direction:column;gap:6px">
        <script>
          const tracks=[
            "Ты разбила папину машину","Супермаркет (slowed & reverb)","Стрип клаб","Мишка (feat. KATERINA)","Беспечный рыцарь тьмы","Клеопатри","Дом Периньон (feat. Элджей)","Буду песиком","Контракт","feat. Молодой Платон — Школьник","Ханнамонтана","Нон стоп","Значит дружба","Райские цветы"];
          const list=document.currentScript.parentElement;
          tracks.forEach((t,i)=>list.insertAdjacentHTML('beforeend',`
          <div class="row" data-src="./audio/Пошлая Молли - ${t}.mp3" data-title="${t}" data-artist="Пошлая Молли" data-cover="./photo/images.jpg">
            <div class="idx">${i+1}</div>
            <div class="meta"><img class="cover" src="./photo/images.jpg"><div><div class="t1">Пошлая Молли — ${t}</div><div class="t2">Пошлая Молли</div></div></div>
            <div style="display:flex;align-items:center;gap:12px;"><span class="dur" data-dur>–:–</span><button class="play"><i class="fa-solid fa-play"></i></button></div>
          </div>`));
        </script>
      </div>
    </div>
  </section>

  <aside class="glass right">
    <img class="np-cover" id="npCover" src="./photo/images.jpg">
    <div class="np-title" id="npTitle">Выберите трек</div>
    <div class="np-artist" id="npArtist">—</div>
  </aside>

  <footer class="glass player">
    <div class="p-left">
      <img class="p-cover" id="pCover" src="./photo/images.jpg">
      <div><div class="p-title" id="pTitle">Ничего не играет</div><div class="p-artist" id="pArtist">—</div></div>
    </div>
    <div class="p-center">
      <div class="p-controls">
        <button class="ctl" id="prevBtn"><i class="fa-solid fa-backward-step"></i></button>
        <button class="ctl primary" id="playBtn"><i class="fa-solid fa-play"></i></button>
        <button class="ctl" id="nextBtn"><i class="fa-solid fa-forward-step"></i></button>
      </div>
      <div class="seek">
        <span id="curTime">0:00</span>
        <input type="range" id="seek" min="0" max="100" value="0" step="0.1">
        <span id="durTime">0:00</span>
      </div>
    </div>
    <div class="p-right">
      <button class="ctl" id="muteBtn"><i class="fa-solid fa-volume-high"></i></button>
      <input type="range" id="vol" class="vol" min="0" max="1" step="0.01" value="1">
    </div>
    <audio id="audio" preload="metadata"></audio>
  </footer>
</div>

<script>
const fmt=s=>isFinite(s)?`${Math.floor(s/60)}:${Math.floor(s%60).toString().padStart(2,'0')}`:'0:00';
const rows=[...document.querySelectorAll('.row')];
const audio=document.getElementById('audio');
const playBtn=document.getElementById('playBtn');
const nextBtn=document.getElementById('nextBtn');
const prevBtn=document.getElementById('prevBtn');
const muteBtn=document.getElementById('muteBtn');
const seek=document.getElementById('seek');
const cur=document.getElementById('curTime');
const dur=document.getElementById('durTime');
const vol=document.getElementById('vol');
const pTitle=document.getElementById('pTitle');
const pArtist=document.getElementById('pArtist');
const pCover=document.getElementById('pCover');
const npTitle=document.getElementById('npTitle');
const npArtist=document.getElementById('npArtist');
const npCover=document.getElementById('npCover');
const search=document.getElementById('search');
let current=-1;
rows.forEach(r=>{const a=new Audio();a.src=r.dataset.src;a.addEventListener('loadedmetadata',()=>r.querySelector('[data-dur]').textContent=fmt(a.duration),{once:true});});
function setMeta(t,a,c){pTitle.textContent=`${a} — ${t}`;pArtist.textContent=a;pCover.src=c;npTitle.textContent=`${a} — ${t}`;npArtist.textContent=a;npCover.src=c;}
function playIndex(i){if(i<0||i>=rows.length)return;current=i;const r=rows[i];audio.src=r.dataset.src;audio.play();setMeta(r.dataset.title,r.dataset.artist,r.dataset.cover);playBtn.firstElementChild.className='fa-solid fa-pause';rows.forEach(x=>x.style.outline='none');r.style.outline='2px solid rgba(43,240,142,.35)';}
rows.forEach((r,i)=>r.querySelector('.play').onclick=e=>{e.stopPropagation();playIndex(i);});
playBtn.onclick=()=>{if(!audio.src)return playIndex(0);if(audio.paused){audio.play();playBtn.firstElementChild.className='fa-solid fa-pause';}else{audio.pause();playBtn.firstElementChild.className='fa-solid fa-play';}};
nextBtn.onclick=()=>{if(current<rows.length-1)playIndex(current+1);else audio.pause();};
prevBtn.onclick=()=>{if(current>0)playIndex(current-1);else audio.currentTime=0;};
muteBtn.onclick=()=>{audio.muted=!audio.muted;muteBtn.firstElementChild.className=audio.muted?'fa-solid fa-volume-xmark':'fa-solid fa-volume-high';};
vol.oninput=()=>{audio.volume=+vol.value;audio.muted=(audio.volume===0);muteBtn.firstElementChild.className=audio.muted?'fa-solid fa-volume-xmark':'fa-solid fa-volume-high';};
audio.ontimeupdate=()=>{seek.value=(audio.currentTime/(audio.duration||1))*100;cur.textContent=fmt(audio.currentTime);dur.textContent=fmt(audio.duration);};
seek.oninput=()=>{if(isFinite(audio.duration))audio.currentTime=(seek.value/100)*audio.duration;};
audio.onended=()=>{if(current<rows.length-1)playIndex(current+1);else{audio.pause();playBtn.firstElementChild.className='fa-solid fa-play';}};
search.oninput=()=>{const q=search.value.toLowerCase();rows.forEach(r=>{r.style.display=(r.dataset.title+r.dataset.artist).toLowerCase().includes(q)?'':'none';});};
</script>
</body>
</html>
